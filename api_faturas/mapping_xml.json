{
  "message": {
    "id": "TestGenXML2",
    "creationDateTime": "{{creation_date_time}}"
  },
  "sender": {
    "id": {
      "attributes": [
        {
          "attribute": "entityIdTypeCoded",
          "attr_value": "{{type_cod_sel}}"
        }
      ],
      "value": "{{seller_code}}"
    },
    "addressInformation": {
      "countryCode": "{{company_cry}}"
    }
  },
  "receiver": {
    "id": {
      "attributes": [
        {
          "attribute": "entityIdTypeCoded",
          "attr_value": "{{type_cod_rec}}"
        }
      ],
      "value": "{{receiver_cod}}"
    },
    "addressInformation": {
      "countryCode": "{{invoice_cry}}"
    }
  },
  "invoice": {
    "documentNumber": "{{invoice_num}}",
    "documentDate": "{{invoice_date}}",
    "schemaVersion": "1.1",
    "binaryDocumentAttachment": {
      "name": "attachment_name",
      "contentType": "application/pdf",
      "content": "attachment_base64"
    }
  },
  "seller": {
    "id": {
      "attributes": [
        {
          "attribute": "entityIdTypeCoded",
          "attr_value": "{{type_cod_sel}}"
        }
      ],
      "value": "{{seller_code}}"
    },
    "name": "{{seller_name}}",
    "addressInformation": {
      "address": "{{seller_address}}",
      "city": "{{seller_city}}",
      "postalCode": {
        "zip": "{{seller_zip}}",
        "area": "{{seller_area}}"
      },
      "countryCode": "{{seller_country}}"
    },
    "contactInformation": {
      "phone": "{{seller_phone}}",
      "fax": "{{seller_fax}}"
    },
    "vatNumber": "{{seller_vat}}",
    "commercialRegistrationNumber": "{{seller_commercial}}",
    "commercialRegistrationLocation": "{{seller_location}}",
    "socialCapital": "{{sell_soccap}}"
  },
  "buyer": {
    "id": {
      "attributes": [
        {
          "attribute": "entityIdTypeCoded",
          "attr_value": "{{type_cod_buyer}}"
        }
      ],
      "value": "{{buyer_code}}"
    },
    "name": "{{buyer_name}}",
    "addressInformation": {
      "address": "{{buyer_address}}",
      "city": "{{buyer_city}}",
      "postalCode": {
        "zip": "{{buyer_zip}}",
        "area": "{{buyer_area}}"
      },
      "countryCode": "{{buyer_country}}"
    },
    "contactInformation": {
      "phone": "{{buyer_phone}}",
      "fax": "{{buyer_fax}}",
      "email": "{{buyer_email}}"
    },
    "vatNumber": "{{buyer_vat}}",
    "commercialRegistrationNumber": "{{buyer_commercial}}",
    "commercialRegistrationLocation": "{{buyer_location}}",
    "socialCapital": "{{buyer_social_capital}}"
  },
  "billTo": {
    "id": {
      "attributes": [
        {
          "attribute": "entityIdTypeCoded",
          "attr_value": "{{type_cod_billTo}}"
        }
      ],
      "value": "{{billTo_code}}"
    },
    "name": "{{billTo_name}}",
    "addressInformation": {
      "address": "{{billTo_address}}",
      "city": "{{billTo_city}}",
      "postalCode": {
        "zip": "{{billTo_zip}}",
        "area": "{{billTo_area}}"
      },
      "countryCode": "{{billTo_country}}"
    },
    "contactInformation": {
      "phone": "{{billTo_phone}}",
      "fax": "{{billTo_fax}}",
      "email": "{{billTo_email}}"
    },
    "vatNumber": "{{billTo_vat}}",
    "commercialRegistrationNumber": "{{billTo_commercial}}",
    "commercialRegistrationLocation": "{{billTo_location}}",
    "socialCapital": "{{billTo_social_capital}}"
  },
  "additionalDate": {
    "type": "CUSTOMERAVAILABLE",
    "value": "{{additionaldt}}"
  },
  "reference": {
    "type": "{{reference_type}}",
    "referenceDocumentId": "{{reference_value}}"
  },
  "currencyCode": "{{currency_cod}}",
  "discount": {
    "attributes": [
      {
        "attribute": "type",
        "attr_value": "FINANCIAL"
      }
    ],
    "amount": "{{discount_amount}}"
  },
  "comment": {
    "id": "1",
    "value": "{{comment}}"
  },
  "senderSoftwareCertificationNumber": "{{software_certification_number}}",
  "senderSoftwareDocumentSignatureHash": "{{software_document_signature_hash}}",
  "atCud": "{{at_cud}}",
  "qrData": {
    "qrText": "{{qr_text}}",
    "qrImage": {
      "attributes": [
        {
          "attribute": "name",
          "attr_value": "{{qr_image_name}}"
        },
        {
          "attribute": "contentType",
          "attr_value": "image/png"
        }
      ],
      "value": "{{qr_image_base64}}"
    }
  },
  "lineItem": {
    "number": "{{line_number}}"
  },
  "gtinCode": "{{line_product}}",
  "description": "{{line_descr}}",
  "quantity": {
    "value": "{{line_quant}}",
    "unitOfMeasure": "{{line_unit}}"
  },
  "freeQuantity": {
    "value": "{{line_quant}}",
    "unitOfMeasure": "{{line_unit}}"
  },
  "unitPrice": "{{line_unit_pr}}",
  "vatPercentage": {
    "default": {
      "value": "{{vat_percent}}"
    },
    "condition": {
      "field": "{{vat_exemption}}",
      "value": "true",
      "attributes": {
        "vatExemptionReasonCode": "{{vat_rea_code}}",
        "vatExemptionReason": "{{vat_reason}}"
      }
    }
  },
  "vatAmount": "{{line_vat_amt}}",
  "netAmount": "{{line_net_amt}}",
  "vatSummary": {
    "default": {
      "value": ""
    },
    "condition": {
      "field": "{{invoice_table.needs_reason}}",
      "value": "true",
      "attributes": {
        "exceptionReasonCode": "{{vat_exemption_reason_code}}",
        "exceptionReason": "{{vat_exemption_reason}}"
      }
    },
    "vatPercentage": "{{vat_percentage}}",
    "vatAmount": "{{vat_amount}}",
    "taxableAmount": "{{taxable_amount}}"
  },
  "totalVatAmount": "{{total_vat_amount}}",
  "totalTaxableAmount": "{{total_taxable_amount}}",
  "totalNetAmount": "{{total_net_amount}}",
  "totalPayableAmount": "{{total_payable_amount}}"
}
